server:
  port: 8081 # 用户服务端口

spring:
  application:
    name: user-service # 服务名称（Nacos注册的服务名）
  cloud:
    nacos:
      discovery:
        server-addr: 192.168.1.33:8848   # 强制指定Nacos地址为localhost，避免IP解析错误
        namespace: public
        timeout: 10000  # 增加注册超时配置（核心：解决STARTING状态问题）
        heart-beat-interval: 5000
        heart-beat-timeout: 15000
        ephemeral: false   # 关闭EPHEMERAL（临时实例），避免注册失败
        fail-fast: false   # 新增：关闭SpringCloud的快速失败机制
  # 数据库配置
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://192.168.1.33:3306/learn_springcloud?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
    username: root
    password: 123456

# MyBatis-Plus配置
mybatis-plus:
  type-aliases-package: com.learn.entity   # 实体类包路径
  configuration:
    map-underscore-to-camel-case: true   # 下划线转驼峰（如数据库user_name → 实体类userName）
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl   # 打印SQL（开发环境方便调试）